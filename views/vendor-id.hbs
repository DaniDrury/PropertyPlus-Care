<main class="m-4 rounded bg-white/30 px-4 text-white backdrop-blur-md">
  <h2 class="text-4xl mb-5 font-bold">Vendor Information: </h2>
  <div
    id="vendorInfo"
    hx-get="/vendors/{{vendor.vendor_id}}/edit"
    hx-swap="outerHTML"
  >
    <div>
    <label class="inline-block font-semibold">Name: <span class="font-normal">{{vendor.vendor_first_name}}</span></label>
    <label>{{vendor.vendor_last_name}}</label></div>
    <div>
    <label class="inline-block font-semibold">Trade: <span class="font-normal">{{vendor.vendor_trade}}</span></label></div>
    <div>
    <label class="inline-block font-semibold">Phone: <span class="font-normal">{{vendor.vendor_phone}}</span></label></div>
    <div>
    <label class="inline-block font-semibold">Email: <span class="font-normal">{{vendor.vendor_email}}</span></label></div>
  </div>

  <div class="my-5">
    <button
      hx-delete="/vendors/{{vendor.vendor_id}}"
      hx-target="#main"
      hx-confirm="Are you sure you want to delete this vendor? This action cannot be undone."
    >Delete Vendor</button>
    <select
      class="text-gray-400"
      name="issue_id"
      hx-post="/vendors/{{vendor.vendor_id}}/issues"
      hx-target="#main"
    >
      <option value="" disabled selected hidden>Assign Existing Issue to Vendor</option>
      {{#each issues}}
        <option value="{{issue_id}}">{{issue_title}}</option>
      {{/each}}
    </select>
  </div>

  <ul class="inline-block font-semibold pt-3 pb-3">Assigned Issues:
    {{#each vendor.issues}}
      <li
        class="border-2 border-black"
        hx-get="/issues/{{issue_id}}"
        hx-target="#main"
        hx-push-url="true"
      >
        <h3 hx-target="closest li">{{issue_title}}</h3>
        <p hx-target="closest li">{{issue-description}}</p>
        {{#if issue_isDone}}
          <p hx-target="closest li">Closed</p>
        {{else}}
          <p hx-target="closest li">Open</p>
        {{/if}}
        <p>{{property.property_name}}</p>
      </li>
    {{/each}}
  </ul>
</main>